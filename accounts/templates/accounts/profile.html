{% extends 'main/base.html' %}
{% block title %}{{ request.user }}{% endblock %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static "accounts/account_styles.css" %}">

    <style media="screen">

        #my-courses {
            max-height: 200px;
        }

        #panels {
            max-height: 100%;
            overflow-y: auto;
        }

        #panels {
            overflow-y: auto;
            max-height: 40vh;

        }

        {{ request.user.settings.account_theme.as_css }}

    </style>
{% endblock head %}

{% block breadcrumbs %}
    <li class="breadcrumb-item"><a href="{% url 'accounts:profile' %}">Min profil</a></li>
{% endblock %}

{% block body %}
    <div class="">

        <div id="title" class="text-center">
            <h1>{{ user }}</h1>
        </div>

        <div class="row mt-2">
            <div class="col-md-7 mt-2">
                <div class="default-theme user-theme">
                    <h4>Personlig informasjon:</h4>
                    <p>
                        <div>Fullt navn: {{ user.get_full_name | default:'Ikke oppgitt' }}</div>
                        <div>Email: {{ user.email }}</div>
                        <div>Kallenavn: {{ user.nickname }}</div>
                        <hr class="border border-light">
                        <div>Antall økter: {{ user.workouts.all.count }}</div>
                    </p>
                </div>
            </div>

            <div class="col-md mt-2">

                <div class="nav nav-tabs" role="tablist">
                    <a class="nav-item nav-link" id="workout-tab" data-toggle="tab" href="#workout-panel" role="tab" aria-controls="workout-panel" aria-selected="true">Mine økter</a>
                </div>

                <div id="panels" class="tab-content p-2 default-theme user-theme rounded-top">
                    <div class="tab-pane fade" id="workout-panel" role="tabpanel" aria-labelledby="workout-tab">
                        {% for workout in request.user.workouts.all %}
                            <div class="">
                                <a href="">{{ workout }}</a>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <!--
            <div class="col-md mt-2">

                <div class="btn btn-dark btn-block btn-sm text-light" data-toggle="collapse" data-target="#my-courses" aria-expanded="false" aria-controls="my-courses">
                    Mine kurs ({{ courses.count }})
                    <i class="lni-chevron-down cursor-pointer" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></i>
                </div>

                <div id="my-courses" class="collapse">
                    <div class="overflow-auto default-theme user-theme rounded-top p-3">
                        {% for course in courses %}
                            <div class="">
                                <a href="{% url 'courses:course_view' course.id %}">{{ course }}</a>
                            </div>
                        {% endfor %}
                    </div>
                </div>

            </div>
            -->
        </div>




        <div class="text-right mt-4">
            <a class="btn btn-secondary text-light" href="{% url 'accounts:edit_profile' %}">Rediger profil</a>
            <a class="btn btn-secondary text-light" href="{% url 'accounts:change_password' %}">Endre passord</a>
            <a class="btn btn-danger text-light" href="{% url 'accounts:logout' %}">Logg ut</a>
        </div>

    </div>
{% endblock %}
